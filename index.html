<script>
  async function handleSubmit() {
    const prompt = document.getElementById('prompt').value;
    const output = document.getElementById('output');
    output.textContent = "⏳ Thinking...";

    try {
      const res = await fetch('/api/generate', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ prompt })
      });

      const data = await res.json();
      output.textContent = data.result.trim();
    } catch (err) {
      output.textContent = "❌ Error: " + err.message;
    }
  }
</script>
